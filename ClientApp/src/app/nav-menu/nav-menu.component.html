<div class="container mt-5 mb-5">
  <a href="" id="title" title="home" class="navbar-brand d-flex align-items-center">
    <img src="../../assets/IIT_logo.jpg" alt="Logo" class="img-fluid me-2" />
    <div title="logo-text">
      <p class="mb-0"><span style="font-size:25px; margin-left:8px;">भारतीय प्रौद्योगिकी संस्थान</span></p>
      <p class="mb-0"><span style="font-size: 25px; margin-left: 8px;">Indian Institute of Technology</span></p>
    </div>
  </a>
</div>

<nav class="navbar bg-body-tertiary">
  <div class="container-fluid d-flex justify-content-between align-items-center w-100">
    <ng-container *ngIf="user === undefined; else showLogout">
      <!-- When the user is undefined, display the search bar and login button -->
      <div class="d-flex w-100 justify-content-between align-items-center">
        <!-- Left side: Login button -->
        <div class="d-flex align-items-center">
          <div class="dropdown me-3">
            <button class="dropbtn" style="font-size:20px">
              <span>
                <img src="../../assets/login_logo_1.png" style="height:30px; margin-right:5px" />Login
              </span>
            </button>
            <div class="dropdown-content">
              <a routerLink="/home/login-student">Student Login</a>
              <a routerLink="/home/login-professor">Professor Login</a>
              <a href="#">Action 3</a>
            </div>
          </div>
        </div>

        <!-- Right side: Search bar and offcanvas button -->
        <div class="d-flex align-items-center w-50 justify-content-end">
          <form class="d-flex mt-1 mb-1 w-100" role="search" style="max-width: 350px;">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">
              <span class="material-symbols-outlined">search</span>
            </button>
          </form>
          <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </div>
    </ng-container>

    <!-- When the user is logged in, show logout and user details -->
    <ng-template #showLogout>
      <div class="d-flex justify-content-between align-items-center w-100" style="padding: 0px 30px;">
        <!-- Left side: User Name -->
        <div class="user-details">
          <span><img src="../../assets/user_profile.png" style="height:45px; margin-right:15px" />{{ user?.userName }}</span>
        </div>

        <!-- Right side: Logout Button -->
        <div class="logOutBtn">
          <button class="btn ms-3" (click)="onLogout()">
            <span>
              <img src="../../assets/shutdown.png" style="height:30px; margin-right:5px" /> Logout
            </span>
          </button>
        </div>
      </div>
    </ng-template>
  </div>
</nav>
